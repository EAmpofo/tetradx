import{t as e}from"./select-C8uBwuiX.js";import{r as t,t as n}from"./_plugin-vue_export-helper-B8IiHqKK.js";import{n as r,t as i}from"./auth-C_H5QpjX.js";import{n as a,r as o,t as s}from"./bg---0LRnSH.js";import{At as c,Dt as l,Nt as u,Pt as d,dt as f,ft as p,gt as m,ht as h,kt as g,lt as _,n as v,ot as y,t as b,yt as x}from"./index-BzTmVoS4.js";var S={class:`flex flex-col gap-2`},C={class:`flex flex-col gap-2`},w={class:`flex flex-col gap-2`},T={key:0,class:`text-red-500`},E={class:`flex flex-col gap-2`},D={key:0,class:`text-red-500`},O={class:`flex flex-col gap-2`},k={key:0,class:`flex flex-col gap-2`},A=n(m({__name:`Register`,setup(n){let m=[{label:`Medical Practitioner`,value:`Medical Practitioner`},{label:`Lab Technician`,value:`Lab Technician`}],A=b(),j=i(),M=v(),N=g(``),P=g(``),F=g(``),I=g(``),L=g(null),R=g(``),z=g([]),B=g(!1),V=g(``),H=async()=>{try{if(z.value=[],V.value=``,N.value||z.value.push(`fullname`),P.value||z.value.push(`phone`),F.value?F.value.length<6&&(z.value.push(`password`),V.value=`Password must be at least 6 characters`):(z.value.push(`password`),V.value=`Password is required`),I.value?F.value!==I.value&&(z.value.push(`confirmPassword`),V.value=`Passwords do not match`):z.value.push(`confirmPassword`),R.value===`Lab Technician`&&!L.value&&z.value.push(`facility`),z.value.length>0)return;B.value=!0;let e={full_name:N.value,phone_number:P.value,password:F.value,confirm_password:I.value,user_type:R.value,...R.value===`Lab Technician`&&{facility_id:L.value}};await j.register(e)}catch(e){console.error(`Registration failed:`,e)}finally{B.value=!1}},U=()=>{A.push(`/login`)};return(n,i)=>(x(),p(`div`,{class:`medical-background min-h-screen flex items-center justify-center p-4`,style:u({backgroundImage:`url(${c(s)})`})},[h(c(o),{class:`w-full max-w-md shadow-2xl backdrop-blur-sm bg-white/95`},{title:l(()=>[...i[6]||=[_(`div`,{class:`text-center text-2xl font-bold text-gray-800`},` Create Account `,-1)]]),content:l(()=>[_(`form`,{onSubmit:y(H,[`prevent`]),class:`space-y-3`},[_(`div`,S,[i[7]||=_(`label`,{for:`fullname`,class:`font-semibold text-gray-700`},`Full Name`,-1),h(c(t),{id:`fullname`,modelValue:N.value,"onUpdate:modelValue":i[0]||=e=>N.value=e,placeholder:`Enter your full name`,class:`w-full`,required:``,invalid:z.value.includes(`fullname`)},null,8,[`modelValue`,`invalid`])]),_(`div`,C,[i[8]||=_(`label`,{for:`phone`,class:`font-semibold text-gray-700`},`Phone Number`,-1),h(c(t),{id:`phone`,modelValue:P.value,"onUpdate:modelValue":i[1]||=e=>P.value=e,placeholder:`Enter your phone number`,type:`tel`,class:`w-full`,required:``,invalid:z.value.includes(`phone`)},null,8,[`modelValue`,`invalid`])]),_(`div`,w,[i[9]||=_(`label`,{for:`password`,class:`font-semibold text-gray-700`},`Password`,-1),h(c(a),{id:`password`,modelValue:F.value,"onUpdate:modelValue":i[2]||=e=>F.value=e,placeholder:`Enter your password`,toggleMask:``,feedback:!0,class:`w-full`,inputClass:`w-full`,required:``,invalid:z.value.includes(`password`)},null,8,[`modelValue`,`invalid`]),z.value.includes(`password`)?(x(),p(`small`,T,d(V.value),1)):f(``,!0)]),_(`div`,E,[i[10]||=_(`label`,{for:`confirmPassword`,class:`font-semibold text-gray-700`},`Confirm Password`,-1),h(c(a),{id:`confirmPassword`,modelValue:I.value,"onUpdate:modelValue":i[3]||=e=>I.value=e,placeholder:`Confirm your password`,toggleMask:``,feedback:!1,class:`w-full`,inputClass:`w-full`,required:``,invalid:z.value.includes(`confirmPassword`)},null,8,[`modelValue`,`invalid`]),z.value.includes(`confirmPassword`)&&V.value===`Passwords do not match`?(x(),p(`small`,D,` Passwords do not match `)):f(``,!0)]),_(`div`,O,[i[11]||=_(`label`,{for:`userType`,class:`font-semibold text-gray-700`},`User Type`,-1),h(c(e),{id:`userType`,modelValue:R.value,"onUpdate:modelValue":i[4]||=e=>R.value=e,options:m,optionLabel:`label`,optionValue:`value`,placeholder:`Select your user type`,class:`w-full`,required:``,invalid:z.value.includes(`userType`)},null,8,[`modelValue`,`invalid`])]),R.value===`Lab Technician`?(x(),p(`div`,k,[i[12]||=_(`label`,{for:`facility`,class:`font-semibold text-gray-700`},`Facility`,-1),h(c(e),{id:`facility`,modelValue:L.value,"onUpdate:modelValue":i[5]||=e=>L.value=e,options:c(M).facilities,optionLabel:`name`,optionValue:`id`,placeholder:`Select your facility`,class:`w-full`,required:``,invalid:z.value.includes(`facility`)},null,8,[`modelValue`,`options`,`invalid`])])):f(``,!0),h(c(r),{type:`submit`,label:`Register`,class:`w-full`,size:`large`,loading:B.value},null,8,[`loading`])],32),_(`div`,{class:`text-center mt-4`},[i[13]||=_(`span`,{class:`text-gray-600`},`Already have an account? `,-1),_(`button`,{onClick:U,class:`text-blue-600 hover:text-blue-800 font-semibold`},` Login `)])]),_:1})],4))}}),[[`__scopeId`,`data-v-81315140`]]);export{A as default};