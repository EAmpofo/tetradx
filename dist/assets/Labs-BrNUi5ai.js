import{t as e}from"./focustrap-CrFuOi1i.js";import{n as t,r as n,t as r}from"./select-C8uBwuiX.js";import{a as i,n as a,r as o,t as s}from"./_plugin-vue_export-helper-B8IiHqKK.js";import{n as c,t as l}from"./auth-C_H5QpjX.js";import{t as ee}from"./avatar-mLrx5TZv.js";import{n as u,r as d,t as f}from"./helpers-Dv-1ADkZ.js";import{$ as p,At as m,C as h,Ct as g,Dt as _,Et as te,H as v,K as y,Nt as b,Ot as x,P as S,Pt as C,Q as ne,R as w,St as T,U as E,V as D,W as O,_ as k,_t as A,at as re,bt as j,c as M,ct as N,dt as P,ft as F,g as ie,gt as I,h as L,ht as R,it as ae,j as oe,jt as z,kt as B,lt as V,m as H,mt as U,n as W,nt as G,rt as K,st as q,tt as J,ut as Y,v as X,vt as se,wt as ce,xt as Z,yt as Q}from"./index-BzTmVoS4.js";var le=L.extend({name:`menu`,style:`
    .p-menu {
        background: dt('menu.background');
        color: dt('menu.color');
        border: 1px solid dt('menu.border.color');
        border-radius: dt('menu.border.radius');
        min-width: 12.5rem;
    }

    .p-menu-list {
        margin: 0;
        padding: dt('menu.list.padding');
        outline: 0 none;
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: dt('menu.list.gap');
    }

    .p-menu-item-content {
        transition:
            background dt('menu.transition.duration'),
            color dt('menu.transition.duration');
        border-radius: dt('menu.item.border.radius');
        color: dt('menu.item.color');
        overflow: hidden;
    }

    .p-menu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('menu.item.padding');
        gap: dt('menu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-menu-item-label {
        line-height: 1;
    }

    .p-menu-item-icon {
        color: dt('menu.item.icon.color');
    }

    .p-menu-item.p-focus .p-menu-item-content {
        color: dt('menu.item.focus.color');
        background: dt('menu.item.focus.background');
    }

    .p-menu-item.p-focus .p-menu-item-icon {
        color: dt('menu.item.icon.focus.color');
    }

    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover {
        color: dt('menu.item.focus.color');
        background: dt('menu.item.focus.background');
    }

    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover .p-menu-item-icon {
        color: dt('menu.item.icon.focus.color');
    }

    .p-menu-overlay {
        box-shadow: dt('menu.shadow');
    }

    .p-menu-submenu-label {
        background: dt('menu.submenu.label.background');
        padding: dt('menu.submenu.label.padding');
        color: dt('menu.submenu.label.color');
        font-weight: dt('menu.submenu.label.font.weight');
    }

    .p-menu-separator {
        border-block-start: 1px solid dt('menu.separator.border.color');
    }
`,classes:{root:function(e){var t=e.props;return[`p-menu p-component`,{"p-menu-overlay":t.popup}]},start:`p-menu-start`,list:`p-menu-list`,submenuLabel:`p-menu-submenu-label`,separator:`p-menu-separator`,end:`p-menu-end`,item:function(e){var t=e.instance;return[`p-menu-item`,{"p-focus":t.id===t.focusedOptionId,"p-disabled":t.disabled()}]},itemContent:`p-menu-item-content`,itemLink:`p-menu-item-link`,itemIcon:`p-menu-item-icon`,itemLabel:`p-menu-item-label`}}),ue={name:`BaseMenu`,extends:H,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:[String,Object],default:`body`},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:le,provide:function(){return{$pcMenu:this,$parentInstance:this}}},de={name:`Menuitem`,hostName:`Menu`,extends:H,inheritAttrs:!1,emits:[`item-click`,`item-mousemove`],props:{item:null,templates:null,id:null,focusedOptionId:null,index:null},methods:{getItemProp:function(e,t){return e&&e.item?h(e.item[t]):void 0},getPTOptions:function(e){return this.ptm(e,{context:{item:this.item,index:this.index,focused:this.isItemFocused(),disabled:this.disabled()}})},isItemFocused:function(){return this.focusedOptionId===this.id},onItemClick:function(e){var t=this.getItemProp(this.item,`command`);t&&t({originalEvent:e,item:this.item.item}),this.$emit(`item-click`,{originalEvent:e,item:this.item,id:this.id})},onItemMouseMove:function(e){this.$emit(`item-mousemove`,{originalEvent:e,item:this.item,id:this.id})},visible:function(){return typeof this.item.visible==`function`?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled==`function`?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label==`function`?this.item.label():this.item.label},getMenuItemProps:function(e){return{action:A({class:this.cx(`itemLink`),tabindex:`-1`},this.getPTOptions(`itemLink`)),icon:A({class:[this.cx(`itemIcon`),e.icon]},this.getPTOptions(`itemIcon`)),label:A({class:this.cx(`itemLabel`)},this.getPTOptions(`itemLabel`))}}},computed:{dataP:function(){return G({focus:this.isItemFocused(),disabled:this.disabled()})}},directives:{ripple:M}},fe=[`id`,`aria-label`,`aria-disabled`,`data-p-focused`,`data-p-disabled`,`data-p`],pe=[`data-p`],me=[`href`,`target`],he=[`data-p`],ge=[`data-p`];function _e(e,t,n,r,i,a){var o=g(`ripple`);return a.visible()?(Q(),F(`li`,A({key:0,id:n.id,class:[e.cx(`item`),n.item.class],role:`menuitem`,style:n.item.style,"aria-label":a.label(),"aria-disabled":a.disabled(),"data-p-focused":a.isItemFocused(),"data-p-disabled":a.disabled()||!1,"data-p":a.dataP},a.getPTOptions(`item`)),[V(`div`,A({class:e.cx(`itemContent`),onClick:t[0]||=function(e){return a.onItemClick(e)},onMousemove:t[1]||=function(e){return a.onItemMouseMove(e)},"data-p":a.dataP},a.getPTOptions(`itemContent`)),[n.templates.item?n.templates.item?(Q(),Y(ce(n.templates.item),{key:1,item:n.item,label:a.label(),props:a.getMenuItemProps(n.item)},null,8,[`item`,`label`,`props`])):P(``,!0):x((Q(),F(`a`,A({key:0,href:n.item.url,class:e.cx(`itemLink`),target:n.item.target,tabindex:`-1`},a.getPTOptions(`itemLink`)),[n.templates.itemicon?(Q(),Y(ce(n.templates.itemicon),{key:0,item:n.item,class:z(e.cx(`itemIcon`))},null,8,[`item`,`class`])):n.item.icon?(Q(),F(`span`,A({key:1,class:[e.cx(`itemIcon`),n.item.icon],"data-p":a.dataP},a.getPTOptions(`itemIcon`)),null,16,he)):P(``,!0),V(`span`,A({class:e.cx(`itemLabel`),"data-p":a.dataP},a.getPTOptions(`itemLabel`)),C(a.label()),17,ge)],16,me)),[[o]])],16,pe)],16,fe)):P(``,!0)}de.render=_e;function ve(e){return Se(e)||xe(e)||be(e)||ye()}function ye(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(e,t){if(e){if(typeof e==`string`)return $(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function xe(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function Se(e){if(Array.isArray(e))return $(e)}function $(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ce={name:`Menu`,extends:ue,inheritAttrs:!1,emits:[`show`,`hide`,`focus`,`blur`],data:function(){return{overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted:function(){this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&=(this.scrollHandler.destroy(),null),this.target=null,this.container&&this.autoZIndex&&X.clear(this.container),this.container=null},methods:{itemClick:function(e){var t=e.item;this.disabled(t)||(t.command&&t.command(e),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==e.id&&(this.focusedOptionIndex=e.id))},itemMouseMove:function(e){this.focused&&(this.focusedOptionIndex=e.id)},onListFocus:function(e){this.focused=!0,!this.popup&&this.changeFocusedOptionIndex(0),this.$emit(`focus`,e)},onListBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.$emit(`blur`,e)},onListKeyDown:function(e){switch(e.code){case`ArrowDown`:this.onArrowDownKey(e);break;case`ArrowUp`:this.onArrowUpKey(e);break;case`Home`:this.onHomeKey(e);break;case`End`:this.onEndKey(e);break;case`Enter`:case`NumpadEnter`:this.onEnterKey(e);break;case`Space`:this.onSpaceKey(e);break;case`Escape`:this.popup&&(y(this.target),this.hide());case`Tab`:this.overlayVisible&&this.hide();break}},onArrowDownKey:function(e){var t=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()},onArrowUpKey:function(e){if(e.altKey&&this.popup)y(this.target),this.hide(),e.preventDefault();else{var t=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()}},onHomeKey:function(e){this.changeFocusedOptionIndex(0),e.preventDefault()},onEndKey:function(e){this.changeFocusedOptionIndex(v(this.container,`li[data-pc-section="item"][data-p-disabled="false"]`).length-1),e.preventDefault()},onEnterKey:function(e){var t=J(this.list,`li[id="${`${this.focusedOptionIndex}`}"]`),n=t&&J(t,`a[data-pc-section="itemlink"]`);this.popup&&y(this.target),n?n.click():t&&t.click(),e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},findNextOptionIndex:function(e){var t=v(this.container,`li[data-pc-section="item"][data-p-disabled="false"]`),n=ve(t).findIndex(function(t){return t.id===e});return n>-1?n+1:0},findPrevOptionIndex:function(e){var t=v(this.container,`li[data-pc-section="item"][data-p-disabled="false"]`),n=ve(t).findIndex(function(t){return t.id===e});return n>-1?n-1:0},changeFocusedOptionIndex:function(e){var t=v(this.container,`li[data-pc-section="item"][data-p-disabled="false"]`),n=e>=t.length?t.length-1:e<0?0:e;n>-1&&(this.focusedOptionIndex=t[n].getAttribute(`id`))},toggle:function(e,t){this.overlayVisible?this.hide():this.show(e,t)},show:function(e,t){this.overlayVisible=!0,this.target=t??e.currentTarget},hide:function(){this.overlayVisible=!1,this.target=null},onEnter:function(e){w(e,{position:`absolute`,top:`0`}),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&X.set(`menu`,e,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&y(this.list),this.$emit(`show`)},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit(`hide`)},onAfterLeave:function(e){this.autoZIndex&&X.clear(e)},alignOverlay:function(){oe(this.container,this.target),p(this.target)>p(this.container)&&(this.container.style.minWidth=p(this.target)+`px`)},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){var n=e.container&&!e.container.contains(t.target),r=!(e.target&&(e.target===t.target||e.target.contains(t.target)));e.overlayVisible&&n&&r?e.hide():!e.popup&&n&&r&&(e.focusedOptionIndex=-1)},document.addEventListener(`click`,this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&=(document.removeEventListener(`click`,this.outsideClickListener,!0),null)},bindScrollListener:function(){var e=this;this.scrollHandler||=new i(this.target,function(){e.overlayVisible&&e.hide()}),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!E()&&e.hide()},window.addEventListener(`resize`,this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&=(window.removeEventListener(`resize`,this.resizeListener),null)},visible:function(e){return typeof e.visible==`function`?e.visible():e.visible!==!1},disabled:function(e){return typeof e.disabled==`function`?e.disabled():e.disabled},label:function(e){return typeof e.label==`function`?e.label():e.label},onOverlayClick:function(e){a.emit(`overlay-click`,{originalEvent:e,target:this.target})},containerRef:function(e){this.container=e},listRef:function(e){this.list=e}},computed:{focusedOptionId:function(){return this.focusedOptionIndex===-1?null:this.focusedOptionIndex},dataP:function(){return G({popup:this.popup})}},components:{PVMenuitem:de,Portal:k}},we=[`id`,`data-p`],Te=[`id`,`tabindex`,`aria-activedescendant`,`aria-label`,`aria-labelledby`],Ee=[`id`];function De(e,t,n,r,i,a){var o=T(`PVMenuitem`),s=T(`Portal`);return Q(),Y(s,{appendTo:e.appendTo,disabled:!e.popup},{default:_(function(){return[R(K,A({name:`p-connected-overlay`,onEnter:a.onEnter,onLeave:a.onLeave,onAfterLeave:a.onAfterLeave},e.ptm(`transition`)),{default:_(function(){return[!e.popup||i.overlayVisible?(Q(),F(`div`,A({key:0,ref:a.containerRef,id:e.$id,class:e.cx(`root`),onClick:t[3]||=function(){return a.onOverlayClick&&a.onOverlayClick.apply(a,arguments)},"data-p":a.dataP},e.ptmi(`root`)),[e.$slots.start?(Q(),F(`div`,A({key:0,class:e.cx(`start`)},e.ptm(`start`)),[Z(e.$slots,`start`)],16)):P(``,!0),V(`ul`,A({ref:a.listRef,id:e.$id+`_list`,class:e.cx(`list`),role:`menu`,tabindex:e.tabindex,"aria-activedescendant":i.focused?a.focusedOptionId:void 0,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,onFocus:t[0]||=function(){return a.onListFocus&&a.onListFocus.apply(a,arguments)},onBlur:t[1]||=function(){return a.onListBlur&&a.onListBlur.apply(a,arguments)},onKeydown:t[2]||=function(){return a.onListKeyDown&&a.onListKeyDown.apply(a,arguments)}},e.ptm(`list`)),[(Q(!0),F(q,null,j(e.model,function(t,n){return Q(),F(q,{key:a.label(t)+n.toString()},[t.items&&a.visible(t)&&!t.separator?(Q(),F(q,{key:0},[t.items?(Q(),F(`li`,A({key:0,id:e.$id+`_`+n,class:[e.cx(`submenuLabel`),t.class],role:`none`},{ref_for:!0},e.ptm(`submenuLabel`)),[Z(e.$slots,e.$slots.submenulabel?`submenulabel`:`submenuheader`,{item:t},function(){return[U(C(a.label(t)),1)]})],16,Ee)):P(``,!0),(Q(!0),F(q,null,j(t.items,function(r,i){return Q(),F(q,{key:r.label+n+`_`+i},[a.visible(r)&&!r.separator?(Q(),Y(o,{key:0,id:e.$id+`_`+n+`_`+i,item:r,templates:e.$slots,focusedOptionId:a.focusedOptionId,unstyled:e.unstyled,onItemClick:a.itemClick,onItemMousemove:a.itemMouseMove,pt:e.pt},null,8,[`id`,`item`,`templates`,`focusedOptionId`,`unstyled`,`onItemClick`,`onItemMousemove`,`pt`])):a.visible(r)&&r.separator?(Q(),F(`li`,A({key:`separator`+n+i,class:[e.cx(`separator`),t.class],style:r.style,role:`separator`},{ref_for:!0},e.ptm(`separator`)),null,16)):P(``,!0)],64)}),128))],64)):a.visible(t)&&t.separator?(Q(),F(`li`,A({key:`separator`+n.toString(),class:[e.cx(`separator`),t.class],style:t.style,role:`separator`},{ref_for:!0},e.ptm(`separator`)),null,16)):(Q(),Y(o,{key:a.label(t)+n.toString(),id:e.$id+`_`+n,item:t,index:n,templates:e.$slots,focusedOptionId:a.focusedOptionId,unstyled:e.unstyled,onItemClick:a.itemClick,onItemMousemove:a.itemMouseMove,pt:e.pt},null,8,[`id`,`item`,`index`,`templates`,`focusedOptionId`,`unstyled`,`onItemClick`,`onItemMousemove`,`pt`]))],64)}),128))],16,Te),e.$slots.end?(Q(),F(`div`,A({key:1,class:e.cx(`end`)},e.ptm(`end`)),[Z(e.$slots,`end`)],16)):P(``,!0)],16,we)):P(``,!0)]}),_:3},16,[`onEnter`,`onLeave`,`onAfterLeave`])]}),_:3},8,[`appendTo`,`disabled`])}Ce.render=De;var Oe=L.extend({name:`popover`,style:`
    .p-popover {
        margin-block-start: dt('popover.gutter');
        background: dt('popover.background');
        color: dt('popover.color');
        border: 1px solid dt('popover.border.color');
        border-radius: dt('popover.border.radius');
        box-shadow: dt('popover.shadow');
    }

    .p-popover-content {
        padding: dt('popover.content.padding');
    }

    .p-popover-flipped {
        margin-block-start: calc(dt('popover.gutter') * -1);
        margin-block-end: dt('popover.gutter');
    }

    .p-popover-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-popover-leave-to {
        opacity: 0;
    }

    .p-popover-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-popover-leave-active {
        transition: opacity 0.1s linear;
    }

    .p-popover:after,
    .p-popover:before {
        bottom: 100%;
        left: calc(dt('popover.arrow.offset') + dt('popover.arrow.left'));
        content: ' ';
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
    }

    .p-popover:after {
        border-width: calc(dt('popover.gutter') - 2px);
        margin-left: calc(-1 * (dt('popover.gutter') - 2px));
        border-style: solid;
        border-color: transparent;
        border-bottom-color: dt('popover.background');
    }

    .p-popover:before {
        border-width: dt('popover.gutter');
        margin-left: calc(-1 * dt('popover.gutter'));
        border-style: solid;
        border-color: transparent;
        border-bottom-color: dt('popover.border.color');
    }

    .p-popover-flipped:after,
    .p-popover-flipped:before {
        bottom: auto;
        top: 100%;
    }

    .p-popover.p-popover-flipped:after {
        border-bottom-color: transparent;
        border-top-color: dt('popover.background');
    }

    .p-popover.p-popover-flipped:before {
        border-bottom-color: transparent;
        border-top-color: dt('popover.border.color');
    }
`,classes:{root:`p-popover p-component`,content:`p-popover-content`}}),ke={name:`Popover`,extends:{name:`BasePopover`,extends:H,props:{dismissable:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:`body`},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null},closeOnEscape:{type:Boolean,default:!0}},style:Oe,provide:function(){return{$pcPopover:this,$parentInstance:this}}},inheritAttrs:!1,emits:[`show`,`hide`],data:function(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler:function(e){e?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,documentKeydownListener:null,beforeUnmount:function(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&=(this.scrollHandler.destroy(),null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&X.clear(this.container),this.overlayEventListener&&=(a.off(`overlay-click`,this.overlayEventListener),null),this.container=null},mounted:function(){this.breakpoints&&this.createStyle()},methods:{toggle:function(e,t){this.visible?this.hide():this.show(e,t)},show:function(e,t){this.visible=!0,this.eventTarget=e.currentTarget,this.target=t||e.currentTarget},hide:function(){this.visible=!1},onContentClick:function(){this.selfClick=!0},onEnter:function(e){var t=this;w(e,{position:`absolute`,top:`0`}),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&X.set(`overlay`,e,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=function(e){t.container.contains(e.target)&&(t.selfClick=!0)},this.focus(),a.on(`overlay-click`,this.overlayEventListener),this.$emit(`show`),this.closeOnEscape&&this.bindDocumentKeyDownListener()},onLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.unbindDocumentKeyDownListener(),a.off(`overlay-click`,this.overlayEventListener),this.overlayEventListener=null,this.$emit(`hide`)},onAfterLeave:function(e){this.autoZIndex&&X.clear(e)},alignOverlay:function(){oe(this.container,this.target,!1);var e=S(this.container),t=S(this.target),n=0;e.left<t.left&&(n=t.left-e.left),this.container.style.setProperty(ie(`popover.arrow.left`).name,`${n}px`),e.top<t.top&&(this.container.setAttribute(`data-p-popover-flipped`,`true`),!this.isUnstyled&&D(this.container,`p-popover-flipped`))},onContentKeydown:function(e){e.code===`Escape`&&this.closeOnEscape&&(this.hide(),y(this.target))},onButtonKeydown:function(e){switch(e.code){case`ArrowDown`:case`ArrowUp`:case`ArrowLeft`:case`ArrowRight`:e.preventDefault()}},focus:function(){var e=this.container.querySelector(`[autofocus]`);e&&e.focus()},onKeyDown:function(e){e.code===`Escape`&&this.closeOnEscape&&(this.visible=!1)},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener(`keydown`,this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&=(window.document.removeEventListener(`keydown`,this.documentKeydownListener),null)},bindOutsideClickListener:function(){var e=this;!this.outsideClickListener&&ne()&&(this.outsideClickListener=function(t){e.visible&&!e.selfClick&&!e.isTargetClicked(t)&&(e.visible=!1),e.selfClick=!1},document.addEventListener(`click`,this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener(`click`,this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener:function(){var e=this;this.scrollHandler||=new i(this.target,function(){e.visible&&=!1}),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.visible&&!E()&&(e.visible=!1)},window.addEventListener(`resize`,this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&=(window.removeEventListener(`resize`,this.resizeListener),null)},isTargetClicked:function(e){return this.eventTarget&&(this.eventTarget===e.target||this.eventTarget.contains(e.target))},containerRef:function(e){this.container=e},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement(`style`),this.styleElement.type=`text/css`,O(this.styleElement,`nonce`,(e=this.$primevue)==null||(e=e.config)==null||(e=e.csp)==null?void 0:e.nonce),document.head.appendChild(this.styleElement);var t=``;for(var n in this.breakpoints)t+=`
                        @media screen and (max-width: ${n}) {
                            .p-popover[${this.$attrSelector}] {
                                width: ${this.breakpoints[n]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&=(document.head.removeChild(this.styleElement),null)},onOverlayClick:function(e){a.emit(`overlay-click`,{originalEvent:e,target:this.target})}},directives:{focustrap:e,ripple:M},components:{Portal:k}},Ae=[`aria-modal`];function je(e,t,n,r,i,a){var o=T(`Portal`),s=g(`focustrap`);return Q(),Y(o,{appendTo:e.appendTo},{default:_(function(){return[R(K,A({name:`p-popover`,onEnter:a.onEnter,onLeave:a.onLeave,onAfterLeave:a.onAfterLeave},e.ptm(`transition`)),{default:_(function(){return[i.visible?x((Q(),F(`div`,A({key:0,ref:a.containerRef,role:`dialog`,"aria-modal":i.visible,onClick:t[3]||=function(){return a.onOverlayClick&&a.onOverlayClick.apply(a,arguments)},class:e.cx(`root`)},e.ptmi(`root`)),[e.$slots.container?Z(e.$slots,`container`,{key:0,closeCallback:a.hide,keydownCallback:function(e){return a.onButtonKeydown(e)}}):(Q(),F(`div`,A({key:1,class:e.cx(`content`),onClick:t[0]||=function(){return a.onContentClick&&a.onContentClick.apply(a,arguments)},onMousedown:t[1]||=function(){return a.onContentClick&&a.onContentClick.apply(a,arguments)},onKeydown:t[2]||=function(){return a.onContentKeydown&&a.onContentKeydown.apply(a,arguments)}},e.ptm(`content`)),[Z(e.$slots,`default`)],16))],16,Ae)),[[s]]):P(``,!0)]}),_:3},16,[`onEnter`,`onLeave`,`onAfterLeave`])]}),_:3},8,[`appendTo`])}ke.render=je;var Me=I({name:`AppDataTable`,components:{DropDownMenu:Ce,Popover:ke},emits:[`menu-click`,`item-click`,`add-btn-click`,`selection-change`,`page-changed`,`sort`,`empty-state-action`],props:{tableName:{type:String,default:``},title:{type:String,default:``},headers:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},showCurrency:{type:Boolean,default:!1},showAddBtn:{type:Boolean,default:!1},addBtnText:{type:String,default:``},currency:{type:String,default:`USD`},setTableStyle:{type:String,default:`min-w-full`},showTotal:{type:Boolean,default:!1},isShowMore:{type:Boolean,default:!1},showActions:{type:Boolean,default:!1},doubleHeader:{type:Boolean,default:!1},topHeaders:{type:Array,default:()=>[]},rowStyles:{type:[String,Function],default:``},classStyle:{type:String,default:``},columnWidths:{type:Object,default:()=>({})},headerStyles:{type:[String,Function],default:``},showPagination:{type:Boolean,default:!1},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},totalItems:{type:Number,default:0},showMenu:{type:Boolean,default:!1},dropdownOptions:{type:Array,default:()=>[{key:`view`,label:`View User`},{key:`delete`,label:`Delete`}]},showOutline:{type:Boolean,default:!0},sectionStyle:{type:String,default:``},trStyle:{type:String,default:``},showCheckbox:{type:Boolean,default:!1},wrapperStyle:{type:String,default:`overflow-hidden `},emptyStateHeader:{type:String,default:`No data available`},emptyStateDescription:{type:String,default:`You'll see all data here once it's available`},emptyStateIcon:{type:String,default:`empty-data-icon`},showEmptyStateAction:{type:Boolean,default:!1},emptyStateActionText:{type:String,default:`Refresh`},showGroupedTableData:{type:Boolean,default:!1},menuStyles:{type:String,default:``}},data(){return{show:null,selectedRows:[],selectedItem:null}},computed:{paginationItems(){let e=[];if(this.totalPages<=5)for(let t=1;t<=this.totalPages;t++)e.push({type:`page`,page:t,key:`page-${t}`});else if(this.currentPage<=3){for(let t=1;t<=4;t++)e.push({type:`page`,page:t,key:`page-${t}`});e.push({type:`ellipsis`,key:`ellipsis-end`}),e.push({type:`page`,page:this.totalPages,key:`page-${this.totalPages}`})}else if(this.currentPage>=this.totalPages-2){e.push({type:`page`,page:1,key:`page-1`}),e.push({type:`ellipsis`,key:`ellipsis-start`});for(let t=this.totalPages-3;t<=this.totalPages;t++)e.push({type:`page`,page:t,key:`page-${t}`})}else e.push({type:`page`,page:1,key:`page-1`}),e.push({type:`ellipsis`,key:`ellipsis-start`}),e.push({type:`page`,page:this.currentPage-1,key:`page-${this.currentPage-1}`}),e.push({type:`page`,page:this.currentPage,key:`page-${this.currentPage}`}),e.push({type:`page`,page:this.currentPage+1,key:`page-${this.currentPage+1}`}),e.push({type:`ellipsis`,key:`ellipsis-end`}),e.push({type:`page`,page:this.totalPages,key:`page-${this.totalPages}`});return e},totalPages(){return this.showPagination?Math.ceil(this.totalItems/this.pageSize):1},from(){return this.items.length?(this.currentPage-1)*this.pageSize+1:0},to(){return(this.currentPage-1)*this.pageSize+this.items.length},getClasses(){return e=>e===`currency`?`text-right`:`text-left`}},watch:{selectedRows:{deep:!0,handler(e){this.$emit(`selection-change`,e)}}},methods:{handleMenuClick(e){this.$emit(`menu-click`,{event:e,item:this.selectedItem})},popOverToggle(e,t){this.$refs[`popover_${t}`][0].toggle(e)},formatDate:f,toggleMenu(e,t){this.selectedItem=t,this.$refs.menu?.toggle(e)},handleSelectAll(e){e.target.checked?this.selectedRows=this.items.map(e=>e):this.selectedRows=[]},showList(e){this.show=e},hideList(){this.show=null},goToPage(e){e<1||e>this.totalPages||this.$emit(`page-changed`,e)},formatValue(e,t){let n=[null,void 0,0,`0`].includes(e)?``:e;switch(t){case`date`:return n?this.formatDate(n):`-`;case`list`:return Array.isArray(n)?n.join(`, `):`-`;case`boolean`:return n===!0?`Yes`:`No`;default:return n||`-`}}}}),Ne={key:0,class:`flex items-center justify-between px-5.5 py-3`},Pe={class:`font-medium text-lg text-gray-600`},Fe={key:0,class:`bg-gray-100 text-gray-600 font-normal px-3 rounded-full text-xs`},Ie={class:`overflow-x-auto overflow-y-visible`},Le={key:0},Re=[`aria-label`,`colspan`,`rowspan`],ze={key:0,class:`px-3 py-3 text-center`,scope:`col`},Be=[`aria-label`],Ve={class:`flex items-center`},He={key:1,scope:`col`},Ue={class:`divide-y divide-gray-200`},We={key:0,class:`px-3 py-3 text-center`},Ge=[`id`,`value`],Ke=[`onClick`],qe=[`onMouseenter`,`onClick`],Je={class:`flex`},Ye={key:0,class:`bg-[#F3F3F8] rounded-xl text-[0.6875rem] ml-1 flex items-center justify-center px-2 py-0.5`},Xe={key:0,class:`w-max max-w-xs flex flex-col justify-between items-start text-sm max-h-64`},Ze={key:1,class:`flex flex-col px-3`},Qe={class:`text-[#8F95B2]`},$e=[`href`,`title`],et={key:3,class:z([`px-3 rounded-full inline-block`])},tt=[`onClick`],nt={key:0},rt=[`colspan`],it={class:`font-semibold`},at={class:`max-w-lg mx-auto`},ot={key:0,class:`px-4 py-2 flex border-t border-gray-200 items-center`},st={class:`font-normal text-base text-[#667085]`},ct={class:`space-x-2 flex items-center ml-auto`},lt=[`disabled`],ut=[`disabled`],dt={key:0,class:`px-2 py-2 text-[#667085] text-sm`},ft=[`onClick`],pt=[`disabled`],mt=[`disabled`],ht=[`onClick`];function gt(e,t,n,r,i,a){let o=T(`app-icon`),s=T(`app-button`),c=T(`Popover`),l=T(`drop-down-menu`);return Q(),F(`section`,{class:z([`w-full bg-white table-component relative overflow-visible`,{"shadow-sm rounded-lg":e.showOutline},e.sectionStyle])},[Z(e.$slots,`header`,{},()=>[e.title?(Q(),F(`header`,Ne,[V(`h4`,Pe,[U(C(e.title)+` `,1),e.showTotal?(Q(),F(`span`,Fe,C(e.totalItems)+` `+C(e.tableName),1)):P(``,!0)]),Z(e.$slots,`action-button`,{},()=>[e.showAddBtn?(Q(),Y(s,{key:0,label:e.addBtnText,onClick:t[0]||=()=>e.$emit(`add-btn-click`)},{leadingSlot:_(()=>[R(o,A({class:`text-center cursor-pointer`,icon:`plus-icon`,size:`20`},e.props),null,16)]),_:1},8,[`label`])):P(``,!0)],!0)])):P(``,!0)],!0),V(`article`,{class:z(e.wrapperStyle)},[V(`div`,Ie,[V(`table`,{class:z([e.setTableStyle,`text-sm text-gray-600 divide-y divide-gray-200`]),"aria-label":`Data Table`},[V(`thead`,null,[e.doubleHeader?(Q(),F(`tr`,Le,[(Q(!0),F(q,null,j(e.topHeaders,(t,n)=>(Q(),F(`th`,{key:t.key,"aria-label":t.label,class:z([`bg-gray-100 font-normal text-gray-600 text-center border-b border-t border-gray-200 last:border-none px-6 py-3 `,typeof e.headerStyles==`function`?e.headerStyles(t):e.headerStyles]),colspan:t.colspan?t.colspan:n===e.topHeaders.length-1?2:1,rowspan:t?.rowspan,scope:`col`},[U(C(t.label)+` `,1),x(V(`span`,null,`(`+C(e.currency)+`)`,513),[[re,e.currency&&t.type===`currency`]])],10,Re))),128))])):P(``,!0),V(`tr`,{class:z([e.trStyle,`bg-gray-100 divide-gray-200`])},[e.showCheckbox?(Q(),F(`th`,ze,[V(`input`,{id:`selectAll`,type:`checkbox`,onChange:t[1]||=(...t)=>e.handleSelectAll&&e.handleSelectAll(...t)},null,32)])):P(``,!0),(Q(!0),F(q,null,j(e.headers,t=>(Q(),F(`th`,{key:t.key,"aria-label":t.label,class:z([` font-normal text-gray-600 text-left px-6 py-3`,e.getClasses(t.type),typeof e.headerStyles==`function`?e.headerStyles(t):e.headerStyles]),style:b({width:e.columnWidths[t.key]||`auto`}),scope:`col`},[V(`div`,Ve,[U(C(t.label)+` `,1),x(V(`span`,null,`(`+C(e.currency)+`)`,513),[[re,e.currency&&t.type===`currency`]]),t.sortable?(Q(),Y(o,{key:0,class:z([`text-center cursor-pointer ml-1`,{"rotate-180":t.sortDirection===`desc`}]),icon:`sort-icon`,size:`20`,onClick:n=>e.$emit(`sort`,t.key,t.sortDirection)},null,8,[`class`,`onClick`])):P(``,!0)])],14,Be))),128)),e.showMenu?(Q(),F(`th`,He)):P(``,!0)],2)]),V(`tbody`,Ue,[(Q(!0),F(q,null,j(e.items,(n,r)=>(Q(),F(`tr`,{key:r,class:z([e.trStyle,`hover:bg-[#F9FAFB] hover:cursor-pointer divide-gray-200`])},[e.showCheckbox?(Q(),F(`td`,We,[x(V(`input`,{id:`row_${r}`,"onUpdate:modelValue":t[2]||=t=>e.selectedRows=t,value:n,type:`checkbox`},null,8,Ge),[[ae,e.selectedRows]])])):P(``,!0),(Q(!0),F(q,null,j(e.headers,i=>(Q(),F(`td`,{key:i.key,class:z([`font-normal  px-3 py-3`,e.getClasses(i.type),typeof e.rowStyles==`function`?e.rowStyles(n,r,i.key):e.rowStyles]),style:b({width:e.columnWidths[i.key]||`auto`}),onClick:t=>e.$emit(`item-click`,{...n,option:`View`,itemIndex:r})},[Z(e.$slots,i.key,{index:r,item:{item:n,index:r}},()=>[i.type===`list`?(Q(),F(`div`,{key:0,class:`relative inline-block`,onMouseenter:t=>e.showList(r),onMouseleave:t[3]||=t=>e.hideList(),onClick:t=>e.popOverToggle(t,r)},[V(`p`,Je,[U(C(n[i.key]?.[0]||`-`)+` `,1),n[i.key]?.length>1?(Q(),F(`span`,Ye,` +`+C(n[i.key].length-1),1)):P(``,!0)]),R(c,{ref_for:!0,ref:`popover_${r}`},{default:_(()=>[n[i.key].length>1?(Q(),F(`div`,Xe,[(Q(!0),F(q,null,j(n[i.key],(e,t)=>(Q(),F(`p`,{key:t,class:`cursor-pointer w-full text-no-wrap px-4 py-2 hover:bg-gray-50 transition-colors ease-in-out duration-300 text-sm first:rounded-t-lg last:rounded-b-lg`},C(e),1))),128))])):P(``,!0)]),_:2},1536)],40,qe)):typeof n[i.key]==`object`?(Q(),F(`p`,Ze,[V(`span`,null,C(n[i.key]?.name||``),1),V(`span`,Qe,C(e.formatDate(n[i.key]?.duration)||`-`),1)])):i.type===`file`?(Q(),F(`a`,{key:2,href:n[i.key],title:n[i.key],class:`text-blue-500 hover:text-blue-600 cursor-pointer hover:underline`,target:`_blank`},C(n[i.key]?.slice(0,50)),9,$e)):(Q(),F(`p`,et,C(e.formatValue(n[i.key],i.type)),1))],!0)],14,Ke))),128)),e.showMenu?(Q(),F(`td`,{key:1,class:z([`relative z-999  px-3 py-3`,e.menuStyles])},[Z(e.$slots,`menu`,{item:{...n,index:r}},()=>[V(`i`,{class:`pi pi-ellipsis-v hidden md:block w-4 h-4 cursor-pointer`,onClick:t=>e.toggleMenu(t,n)},null,8,tt)],!0)],2)):P(``,!0)],2))),128)),e.items.length<=0?(Q(),F(`tr`,nt,[V(`td`,{colspan:e.headers.length+(e.showMenu?1:0),class:`text-center text-[#667085] py-4 h-90`},[t[9]||=V(`div`,{class:`h-12 w-12 rounded-full mx-auto bg-gray-100 flex items-center justify-center`},[V(`p`,{class:`h-10 w-10 rounded-full mx-auto bg-primary-100 text-primary-600 flex items-center justify-center`},[V(`i`,{class:`pi pi-table`})])],-1),V(`p`,it,C(e.emptyStateHeader),1),V(`p`,at,C(e.emptyStateDescription),1),e.showEmptyStateAction?(Q(),F(`button`,{key:0,class:`text-primary-600 mt-3 cursor-pointer font-medium text-sm hover:text-primary-500`,onClick:t[4]||=t=>e.$emit(`empty-state-action`)},C(e.emptyStateActionText),1)):P(``,!0)],8,rt)])):P(``,!0)])],2)]),e.showPagination&&e.totalPages>1?(Q(),F(`footer`,ot,[V(`div`,st,` Showing `+C(e.from)+` to `+C(e.to)+` of `+C(e.totalItems)+` entries `,1),V(`div`,ct,[V(`button`,{disabled:e.currentPage===1,class:`py-2 disabled:opacity-50 disabled:cursor-default cursor-pointer`,onClick:t[5]||=t=>e.goToPage(1)},[...t[10]||=[V(`i`,{class:`pi pi-angle-double-left`},null,-1)]],8,lt),V(`button`,{disabled:e.currentPage===1,class:`disabled:opacity-50 disabled:cursor-default cursor-pointer`,onClick:t[6]||=t=>e.goToPage(e.currentPage-1)},[...t[11]||=[V(`i`,{class:`pi pi-angle-left`},null,-1)]],8,ut),(Q(!0),F(q,null,j(e.paginationItems,t=>(Q(),F(q,{key:t.key},[t.type===`ellipsis`?(Q(),F(`span`,dt,` ... `)):(Q(),F(`button`,{key:1,class:z([`px-4 py-2 rounded-lg border border-none text-sm font-normal cursor-pointer `,e.currentPage===t.page?`bg-blue-500 text-white`:`text-[#667085] hover:text-[#083C5A]`]),onClick:n=>e.goToPage(t.page)},C(t.page),11,ft))],64))),128)),V(`button`,{disabled:e.currentPage===e.totalPages,class:`py-1 disabled:opacity-50 disabled:cursor-default cursor-pointer`,onClick:t[7]||=t=>e.goToPage(e.currentPage+1)},[...t[12]||=[V(`i`,{class:`pi pi-angle-right`},null,-1)]],8,pt),V(`button`,{disabled:e.currentPage===e.totalPages,class:`py-2 disabled:cursor-default disabled:opacity-50`,onClick:t[8]||=t=>e.goToPage(e.totalPages)},[...t[13]||=[V(`i`,{class:`pi pi-angle-double-right`},null,-1)]],8,mt)])])):P(``,!0)],2),R(l,{id:`tableMenu`,ref:`menu`,model:e.dropdownOptions,popup:!0},{item:_(t=>[V(`p`,{class:`cursor-pointer hover:text-primary pl-2`,onClick:n=>e.handleMenuClick(t.item)},C(t.item.label),9,ht)]),_:1},8,[`model`])],2)}var _t=s(Me,[[`render`,gt],[`__scopeId`,`data-v-ae56235d`]]),vt={key:0,class:`space-y-4 grid grid-cols-2`},yt={class:`flex flex-col gap-1`},bt={class:`text-gray-900`},xt={class:`flex flex-col gap-1`},St={class:`text-gray-900`},Ct={class:`flex flex-col gap-1 col-span-2`},wt={class:`space-y-2`},Tt={class:`flex items-center gap-3 flex-1`},Et={class:`text-gray-900 font-medium`},Dt={class:`flex flex-col gap-1`},Ot={class:`text-gray-900`},kt={class:`flex flex-col gap-1`},At={class:`text-gray-900 whitespace-pre-wrap`},jt={class:`flex flex-col gap-1`},Mt={class:`text-gray-900`},Nt={class:`flex flex-col gap-1`},Pt={class:`flex justify-end`},Ft=I({__name:`ReferralViewModal`,props:{visible:{type:Boolean},referral:{}},emits:[`update:visible`,`testUpdated`],setup(e,{emit:t}){let n=e,r=t,i=W(),a=B(new Set),o=()=>{r(`update:visible`,!1)},s=async(e,t)=>{try{let n=e.id||e.test_id;if(!n){console.error(`Test ID is missing:`,e);return}a.value.add(n);let s=t?`Completed`:`Pending`;await i.updateTestStatus(n,s),r(`testUpdated`),setTimeout(()=>{a.value.delete(n),o()},1e3)}catch(e){console.error(`Error updating test status:`,e)}finally{let t=e.id||e.test_id;t&&a.value.delete(t)}},l=e=>e.status?.toLowerCase()===`completed`,ee=e=>a.value.has(e),f=e=>e.id||e.test_id,p=e=>new Date(e).toLocaleString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}),h=e=>{let t=e?.toLowerCase();return t===`pending`?`bg-yellow-500`:t===`completed`?`bg-green-500`:t===`received`?`bg-blue-500`:`bg-gray-500`};return(e,t)=>(Q(),Y(m(u),{visible:n.visible,modal:``,header:`Referral Details`,style:{width:`600px`},"onUpdate:visible":o},{footer:_(()=>[V(`div`,Pt,[R(m(c),{label:`Close`,severity:`secondary`,onClick:o})])]),default:_(()=>[n.referral?(Q(),F(`div`,vt,[V(`div`,yt,[t[0]||=V(`label`,{class:`font-semibold text-gray-700`},`Referral ID`,-1),V(`p`,bt,C(n.referral.referral_id),1)]),V(`div`,xt,[t[1]||=V(`label`,{class:`font-semibold text-gray-700`},`Patient Name/ID`,-1),V(`p`,St,C(n.referral.patient_name_or_id),1)]),V(`div`,Ct,[t[2]||=V(`label`,{class:`font-semibold text-gray-700`},`Tests`,-1),V(`div`,wt,[(Q(!0),F(q,null,j(n.referral.tests,e=>(Q(),F(`div`,{key:f(e),class:`flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200`},[V(`div`,Tt,[R(m(d),{modelValue:l(e),binary:!0,disabled:ee(f(e)),"onUpdate:modelValue":t=>s(e,t)},null,8,[`modelValue`,`disabled`,`onUpdate:modelValue`]),V(`span`,Et,C(e.test_name),1)]),V(`span`,{class:z([`px-3 py-1 rounded-md text-white text-sm font-medium`,h(e.status)])},C(e.status),3)]))),128))])]),V(`div`,Dt,[t[3]||=V(`label`,{class:`font-semibold text-gray-700`},`Facility`,-1),V(`p`,Ot,C(n.referral.facility_name),1)]),V(`div`,kt,[t[4]||=V(`label`,{class:`font-semibold text-gray-700`},`Clinical Notes`,-1),V(`p`,At,C(n.referral.clinical_notes||`No clinical notes provided`),1)]),V(`div`,jt,[t[5]||=V(`label`,{class:`font-semibold text-gray-700`},`Referred At`,-1),V(`p`,Mt,C(p(n.referral.referred_at)),1)]),V(`div`,Nt,[t[6]||=V(`label`,{class:`font-semibold text-gray-700`},`Status`,-1),V(`div`,null,[V(`span`,{class:z([`px-3 py-1 rounded-md text-white inline-block`,h(n.referral.status)])},C(n.referral.status),3)])])])):P(``,!0)]),_:1},8,[`visible`]))}}),It={class:`mb-6 flex items-center justify-between`},Lt={class:`text-2xl font-bold text-gray-800 mb-2`},Rt={class:`flex items-center gap-2`},zt={class:`flex items-center gap-2`},Bt={key:0,class:`pi pi-phone p-3 bg-green-500 rounded-md text-white`},Vt={key:1,class:`pi pi-check p-3 bg-green-500 rounded-md text-white`},Ht=[`onClick`],Ut={key:3,class:`pi pi-angle-double-down p-3 bg-green-500 rounded-md text-white`},Wt={key:4,class:`pi pi-download p-3 bg-blue-500 rounded-md text-white`},Gt={class:`flex items-center gap-2`},Kt=I({__name:`Labs`,setup(e){let i=[{key:`referral_id`,label:`Referral ID`},{key:`patient_name_or_id`,label:`Patient Name/ID`},{key:`tests`,label:`Test`,type:`list`},{key:`facility_name`,label:`Facility`},{key:`referral_doctor`,label:`Referral Doctor`},{key:`referred_at`,label:`Referred At`,type:`date`},{key:`status`,label:`Status`},{key:`actions`,label:`Actions`}],a=[`#FF6384`,`#36A2EB`,`#FFCE56`,`#4BC0C0`,`#9966FF`,`#FF9F40`,`#FF6384`,`#36A2EB`,`#FFCE56`,`#4BC0C0`],s=e=>{let t=[{label:`Pending`,value:`Pending`},{label:`Received`,value:`Received`}];return e?.testsData?.every(e=>e.status?.toLowerCase()===`completed`)&&e?.testsData?.length>0&&t.push({label:`Completed`,value:`Completed`}),t},c=[{label:`Sort by time created`,value:`time`},{label:`Sort by doctor`,value:`name`}],u=[{label:`Ascending`,value:`asc`},{label:`Descending`,value:`desc`}],d=l(),f=W(),p=B(`time`),h=B(`desc`),g=B(1),v=B(10),y=B(``),x=B(!1),S=B(null),ne=N(()=>d.user),w=e=>e.split(` `).map(e=>e.charAt(0)).join(``).toUpperCase(),T=()=>{let e=Math.floor(Math.random()*a.length);return a[e]},E=async()=>{try{await f.getLabTechReferrals(g.value,v.value,p.value,h.value,y.value)}catch(e){console.error(`error::::`,e)}},D=async e=>{try{await f.updateReferralStatus(e.referral_id,e.status),await E()}catch(e){console.error(`error::::`,e)}},O=e=>{S.value=f.labTechReferrals?.referrals?.find(t=>t.referral_id===e.referral_id)||e,x.value=!0},k=async()=>{await E()};te([p,g,h,y],()=>{y.value!==void 0&&(g.value=1),E()});let A=N(()=>f.labTechReferrals?.referrals?.map(e=>({...e,tests:e.tests?.map(e=>e.test_name)||[],testsData:e.tests||[]}))??[]);return se(()=>{E()}),(e,a)=>(Q(),F(`section`,null,[V(`div`,It,[V(`div`,null,[V(`h2`,Lt,` Welcome back, `+C(ne.value?.full_name)+`! `,1),a[5]||=V(`p`,{class:`text-gray-600`},` Here's what's happening with your account today. `,-1)])]),R(_t,{title:`Lab Tech Referrals`,headers:i,items:A.value,"show-pagination":``,"total-items":m(f).labTechReferrals?.pagination?.total_referrals??0,"page-size":v.value,"current-page":g.value,onPageChanged:a[3]||=e=>g.value=e},{"action-button":_(()=>[V(`div`,Rt,[R(m(n),null,{default:_(()=>[R(m(t),{class:`pi pi-search`}),R(m(o),{modelValue:y.value,"onUpdate:modelValue":a[0]||=e=>y.value=e,placeholder:`Search referrals...`,class:`w-[250px]`},null,8,[`modelValue`])]),_:1}),a[6]||=V(`div`,{class:`flex items-center gap-4`},[V(`div`,{class:`flex items-center gap-2`},[V(`div`,{class:`w-3 h-3 rounded-full bg-yellow-500`}),V(`p`,null,`Pending`)]),V(`div`,{class:`flex items-center gap-2`},[V(`div`,{class:`w-3 h-3 rounded-full bg-blue-500`}),V(`p`,null,`Received`)]),V(`div`,{class:`flex items-center gap-2`},[V(`div`,{class:`w-3 h-3 rounded-full bg-green-500`}),V(`p`,null,`Completed`)])],-1),R(m(r),{class:`w-[200px]`,modelValue:p.value,"onUpdate:modelValue":a[1]||=e=>p.value=e,options:c,placeholder:`Select sort key`,optionLabel:`label`,optionValue:`value`},null,8,[`modelValue`]),R(m(r),{class:`w-[150px]`,modelValue:h.value,"onUpdate:modelValue":a[2]||=e=>h.value=e,options:u,placeholder:`Select sort type`,optionLabel:`label`,optionValue:`value`},null,8,[`modelValue`])])]),test_type_name:_(({item:e})=>[V(`p`,{class:z([`px-3 py-1 rounded-md text-white`,{"bg-yellow-500 ":e.item?.status?.toLowerCase()===`pending`,"bg-green-500 ":e.item?.status?.toLowerCase()===`completed`,"bg-blue-500 ":e.item?.status?.toLowerCase()===`received`}])},C(e.item?.test_type_name),3)]),actions:_(({item:e})=>[V(`div`,zt,[e.item?.status?.toLowerCase()===`pending`?(Q(),F(`i`,Bt)):P(``,!0),e.item?.status?.toLowerCase()===`received`?(Q(),F(`i`,Vt)):P(``,!0),e.item?.status?.toLowerCase()===`pending`||e.item?.status?.toLowerCase()===`received`?(Q(),F(`i`,{key:2,class:`pi pi-eye p-3 bg-blue-500 rounded-md text-white cursor-pointer`,onClick:t=>O(e.item)},null,8,Ht)):P(``,!0),e.item?.status?.toLowerCase()===`completed`?(Q(),F(`i`,Ut)):P(``,!0),e.item?.status?.toLowerCase()===`completed`?(Q(),F(`i`,Wt)):P(``,!0)])]),patient_name_or_id:_(({item:e})=>[V(`div`,Gt,[R(m(ee),{label:w(e?.item?.patient_name_or_id),shape:`circle`,style:b({backgroundColor:T()})},null,8,[`label`,`style`]),V(`p`,null,C(e?.item?.patient_name_or_id),1)])]),status:_(({item:e})=>[R(m(r),{modelValue:e.item.status,"onUpdate:modelValue":[t=>e.item.status=t,t=>D(e.item)],options:s(e.item),optionLabel:`label`,optionValue:`value`,class:`w-full`,disabled:e.item.status?.toLowerCase()===`completed`},null,8,[`modelValue`,`onUpdate:modelValue`,`options`,`disabled`])]),_:1},8,[`items`,`total-items`,`page-size`,`current-page`]),R(Ft,{visible:x.value,"onUpdate:visible":a[4]||=e=>x.value=e,referral:S.value,onTestUpdated:k},null,8,[`visible`,`referral`])]))}});export{Kt as default};